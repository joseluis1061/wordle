(()=>{"use strict";const e=document.querySelector("#keyboard"),t=[];let n=[],l=["p","l","a","t","z","i"],o=[];const r=document.querySelector("#grid");let c=[],s=[],a=0,i=0;const d=async()=>{const e=await fetch("https://clientes.api.greenborn.com.ar/public-random-word"),t=await e.json();let n=(o=t[0],o.normalize("NFD").replace(/[\u0300-\u036f]/g,"")).toLowerCase();var o;return n=n.split(""),l=n,u(),n};d();const u=()=>{for(let e=0;e<4;e++){const t=document.createElement("ul");t.className="list_container",t.id=`list_container${e}`;for(let t=0;t<l.length;t++){const n=document.createElement("li");n.className=`listElement listElement${e}${t}`,c.push(n)}t.append(...c),s.push(t),c=[]}r.append(...s)},m=()=>{c=[],s=[],a=0,i=0,n=[],setTimeout((()=>{for(;r.firstChild;)r.removeChild(r.firstChild);document.querySelector("h2").innerHTML="",d()}),1500)};[["q","w","e","r","t","y","u","i","o","p"],["a","s","d","f","g","h","j","k","l","ñ"],["delete","z","x","c","v","b","n","m","enter"]].map((e=>{const n=document.createElement("ul");e.map((e=>{const t=document.createElement("li");let l=document.createElement("button");switch(e){case"enter":l.addEventListener("click",(e=>h(e))),l.id=`${e}`,l.innerHTML=`${e}`,l.className="btn btn_control",t.appendChild(l);break;case"delete":l.addEventListener("click",(e=>T(e))),l.id=`${e}`,l.innerHTML=`${e}`,l.className="btn btn_control",t.appendChild(l);break;default:l.addEventListener("click",(e=>p(e))),l.id=`${e}`,l.innerHTML=`${e}`,l.className="btn btn_letter",t.appendChild(l)}n.appendChild(t)})),t.push(n)})),e.append(...t);const p=e=>{console.log("pressLetter");const t=e.target;if(n.length<l.length){n.push(t.id);document.querySelector(`.listElement${a}${i}`).innerHTML=t.id,i++}else{const e=document.querySelector("h2");e.innerHTML="¡Palabra llena!",setTimeout((()=>{e.innerHTML=""}),1500)}},h=()=>{console.log("CheckWord");const e=document.querySelector("h2");return n.join("")===l.join("")?(e.innerHTML="¡Has Ganado!",L(),void m()):3===a?n.join("")===l.join("")?(e.innerHTML="¡Has Ganado!",void m()):(e.innerHTML=`¡Has Perdido! = > ${l.join("")}`,L(),void m()):void L()},L=()=>{if(console.log("matchAnswer"),n.length===l.length){for(let e=0;e<l.length;e++)switch(!0){case n[e]===l[e]:o.push("green");break;case l.includes(n[e]):o.push("marron");break;default:o.push("gray")}o.map(((e,t)=>{document.querySelector(`.listElement${a}${t}`).className=`listElement listElement${a}${t} ${e}`})),n=[],o=[],a++,i=0}else{const e=document.querySelector("h2");e.innerHTML="Tu palabra esta vacia",setTimeout((()=>{e.innerHTML=""}),2e3)}},T=()=>{if(console.log("deleteLetter"),n.length>0){n.pop(),i--;document.querySelector(`.listElement${a}${i}`).innerHTML=""}else{const e=document.querySelector("h2");e.innerHTML="Tu palabra esta vacia",setTimeout((()=>{e.innerHTML=""}),1500)}};document.querySelector(".new_answerd").addEventListener("click",(()=>{console.log("newAnswerd"),m()}))})();