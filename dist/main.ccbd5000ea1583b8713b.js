(()=>{"use strict";const e=document.querySelector("#keyboard"),t=[];let n=[],l=["p","l","a","t","z","i"],r=[];const o=document.querySelector("#grid");let a=[],c=[],i=0,s=0;const d=async()=>{const e=await fetch("https://random-word-api.herokuapp.com/word?lang=es&length=5"),t=await e.json();let n=(r=t[0],r.normalize("NFD").replace(/[\u0300-\u036f]/g,"")).toLowerCase();var r;return n=n.split(""),console.log(n),l=n,u(),n};d();const u=()=>{for(let e=0;e<4;e++){const t=document.createElement("ul");t.className="list_container",t.id=`list_container${e}`;for(let t=0;t<l.length;t++){const n=document.createElement("li");n.className=`listElement listElement${e}${t}`,a.push(n)}t.append(...a),c.push(t),a=[]}o.append(...c)},m=()=>{a=[],c=[],i=0,s=0,n=[],setTimeout((()=>{for(;o.firstChild;)o.removeChild(o.firstChild);document.querySelector("h2").innerHTML="",d()}),1500)};[["q","w","e","r","t","y","u","i","o","p"],["a","s","d","f","g","h","j","k","l","ñ"],["delete","z","x","c","v","b","n","m","enter"]].map((e=>{const n=document.createElement("ul");e.map((e=>{const t=document.createElement("li");let l=document.createElement("button");switch(e){case"enter":l.addEventListener("click",(e=>h(e))),l.id=`${e}`,l.innerHTML=`${e}`,l.className="btn btn_control",t.appendChild(l);break;case"delete":l.addEventListener("click",(e=>L(e))),l.id=`${e}`,l.innerHTML=`${e}`,l.className="btn btn_control",t.appendChild(l);break;default:l.addEventListener("click",(e=>p(e))),l.id=`${e}`,l.innerHTML=`${e}`,l.className="btn btn_letter",t.appendChild(l)}n.appendChild(t)})),t.push(n)})),e.append(...t);const p=e=>{const t=e.target;if(n.length<l.length){n.push(t.id);document.querySelector(`.listElement${i}${s}`).innerHTML=t.id,s++}else{const e=document.querySelector("h2");e.innerHTML="¡Palabra llena!",setTimeout((()=>{e.innerHTML=""}),1500)}},h=()=>{console.log(l);const e=document.querySelector("h2");return n.join("")===l.join("")?(e.innerHTML="¡Has Ganado!",T(),void m()):3===i?n.join("")===l.join("")?(e.innerHTML="¡Has Ganado!",void m()):(e.innerHTML=`¡Has Perdido! = > ${l.join("")}`,T(),void m()):void T()},T=()=>{if(n.length===l.length){for(let e=0;e<l.length;e++)switch(!0){case n[e]===l[e]:r.push("green");break;case l.includes(n[e]):r.push("marron");break;default:r.push("gray")}r.map(((e,t)=>{document.querySelector(`.listElement${i}${t}`).className=`listElement listElement${i}${t} ${e}`})),n=[],r=[],i++,s=0}else{const e=document.querySelector("h2");e.innerHTML="Tu palabra esta vacia",setTimeout((()=>{e.innerHTML=""}),2e3)}},L=()=>{if(n.length>0){n.pop(),s--;document.querySelector(`.listElement${i}${s}`).innerHTML=""}else{const e=document.querySelector("h2");e.innerHTML="Tu palabra esta vacia",setTimeout((()=>{e.innerHTML=""}),1500)}};document.querySelector(".new_answerd").addEventListener("click",(()=>{m()}))})();